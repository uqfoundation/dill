language: python

sudo: false

matrix:
    include:
        - python: '2.5'
        - python: '2.6'
        - python: '2.7'
        - python: '3.1'
        - python: '3.2'
        - python: '3.3'
        - python: '3.4'
        - python: '3.5'
        - python: '3.6-dev'
        - python: 'nightly'
        - python: 'pypy'
        - python: 'pypy3'
    allow_failures:
        - python: '2.5'     # not supported by travis
        - python: '3.1'     # not supported by travis
        - python: '3.5'     # tests fail
        - python: '3.6-dev' # tests fail
        - python: 'nightly' # tests fail
        - python: 'pypy'    # tests fail
        - python: 'pypy3'   # tests fail
    fast_finish: true

cache:
    pip: true

before_install:
    - set -e  # fail on any error

install:
    - python setup.py build && python setup.py install

script:
    - for test in tests/*.py; do echo $test ; python $test > /dev/null ; done
